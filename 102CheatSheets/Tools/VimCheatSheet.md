---
Aliases: 
Tags: Vim
DateCreated: 2023-04-07T11:05
DateModified: 2023-06-28T21:25
---
# VimCheatSheet
Top:: [[Vim]]

## 文件名
---
在 vim 命令中，使用 "%" 来表示当前文件名
可以在 "%" 后加上 ":r" 来获得无扩展的文件名
Vim 插入模式下，按 `<Ctrl-r>%` 可将当前文件名输入到文件中

> e.g. 如果文件名为 main.cpp 则 "%:r" 代表 "main"

### 所有修饰符

| 修饰符       | 说明                                                                                                 |
| ------------ | ---------------------------------------------------------------------------------------------------- |
| :p           | 将文件名变成全路径文件名。如果使用多个修饰符，那么必须将此修饰符放置在最前面。                       |
| :~           | 将绝对路径路径名如/home/oualline/examples/test.c 转变为 用~标记的短文件名如~oualline/examples/test.c |
| :.           | 转变为现对路径名                                                                                     |
| :h           | 文件名的头。例如../path/test.c 将转变为 ../path                                                      |
| :t           | 文件名的尾。例如../path/test.c 将转变为 test.c                                                       |
| :r           | 无扩展名的文件名。例如../path/test 将转变为 test                                                     |
| :e           | 扩展名                                                                                               |
| : s?From?to? | 将第一次出现的 From 字符串改变为 to 字符串                                                           |
| :gs?From?to? | 将所有的字符串 From 改变为 to 字符串                                                                 |

## 快速跳转 
---
### \` 相关

| 指令 | 说明                |
| ---- | ------------------ |
| \`<  | 上次选择区域的前面 |
| \`>  | 上次选择区域的后面 |
| \`\[  | 上次修改过区域的前面 |
| \`\]  | 上次修改过区域的后面 |

### \[ \] 相关

| 操作 | 作用                                        |
| ---- | ------------------------------------------- |
| ]m   | 跳转到下一个函数体的开头 （member function) |
| ]M   | 跳转到下一个函数体的结尾                    |
| ](   | 跳转到下一个句子的开头                      |
| ])   | 跳转到下一个句子的结尾                      |
| ]{   | 跳转到下一个段落的开头                      |
| ]}   | 跳转到下一个段落的结尾                      |
| ]t   | 跳转到下一个 HTML 标签的开头                  |
| ]T   | 跳转到下一个 HTML 标签的结尾                                            |

> 上面 \[ \] 相关的操作是问的 ChatGPT 。但是我查了一下 vim 手册，好像跟 ChatGPT 讲的不一样  
> 例如]) 应该是跳到下一个 () 块  
> 但是随便吧，我也不常用

## 替换
---

> 不妨先了解一下 [[正则表达式]]

1. 删除所有空白行

```vim
:%s/^\s*\n//g
```

1. 在所有 `word` 前面插入换行符

```vim
:%s/\(word\)/\r\1/g
```

## 文本对象
---
除了熟悉的 w (word) 和各种符号以外，还有三种文本对象
s: Sentence
p: Paragraph
t: Tags

## 折叠
---
- `zc`
	- 折叠当前函数块
- `zo`
	- 展开当前所在折叠
- `za`
	- 切换折叠状态
- `zM`
	- 折叠所有代码块
- `zR`
	- 展开所有折叠

- 折叠方式
	- manual
	- indent
	- expr
	- syntax
	- diff
	- marker
- 设置折叠方式
	- `:set foldmethod={Method}`