---
Aliases: 
tags: Computer/Compose 
DateCreated: 2023-07-24T20:17
DateModified: 2023-07-25T19:55
---
# 指令格式
Top:: [[Computer Compose]]

## 指令的定义
---
- 指令（又称机器指令）
	- 是指示计算机执行某种操作的命令
	- 是计算机运行的最小功能单位
- 一台计算机的所有指令的集合构成 指令系统，也称为指令集

## 指令格式
---
- 一条指令包括 操作码字段 和 地址字段 两部分
	- 操作码（OP）
		- 用户要干什么
	- 地址码（A）
		- 对谁操作
- 一条指令可能包含多个地址码，也可能不包含地址码

## 零地址指令
---
- 不需要操作数，如空操作、停机、关中断等
- 堆栈计算机，两个操作数隐含在栈顶和次栈顶，计算结果压回栈顶

## 一地址指令
---
1. 只需要单操作数，如加 1、减 1、取反、求补等
	- 指令含义：$OP(A_{1})\to A_{1}$
	- 需要 3 次访存：取指 ->读 A1->写 A1
2. 需要两个操作数，但其中一个隐含在某个寄存器中（如隐含在 ACC 中）
	- 指令含义：$(ACC)OP(A_{1})\to ACC$

二、三地址指令
---
### 二地址指令

- $(A_{1})OP(A_{2})\to A_{1}$

### 三地址指令

- $(A_{1})OP(A_{2})\to A_{3}$

## 四地址指令
---
- $(A_{1})OP(A_{2})\to A_{3}$
- 正常情况下：取指令后 PC+1，指向下一条指令
- 四地址指令：执行指令后，将 PC 的值修改为 $A_{4}$ 所指地址
- 若指令总长度固定不变，地址码数量越多，寻址能力越差

## 指令 - 按指令长度分类
---
- 指令字长：一条指令的总长度
- 机器字长：CPU 进行一次整数运算所能处理的二进制数据的位数（通常和 ALU 直接相关）
- 存储字长：一个存储单元中的二进制代码位数（通常和 MDR 位数相同）

- 半字长指令、单字长指令、双字长指令
	- 指令长度是机器字长的多少倍
- 指令字长回影响取指令所需时间
	- 如：机器字长=存储字长=16bit，则取一条双字长指令需要两次访存

- 定长指令字结构
	- 指令系统中所有指令的长度都相等
- 变长指令字结构
	- 指令系统中各种指令的长度不等

- 定长操作码:
	- 指令系统中所有指令的操作码长度都相同
- 可变长操作码:
	- 指令系统中各指令的操作码长度可变

## 指令一按操作类型分类
---
1. 数据传送
	- LOAD
	- STORE
2. 算数逻辑操作
	- 算术：加、减、乘、除、增 1、减 1、求补、浮点运算、十进制运算
	- 逻辑：与、或、非、异或、位操作、位测试、位清除、位求反
3. 移位操作
	- 算术移位、逻辑移位、循环移位 (带进位和不带进位)
4. 转移操作
	- 无条件转移：JMP
	- 条件转移 JZ：结果为 0
	- 调用和返回 CALL 和 RETURN
	- 陷阱（Trap）和陷阱指令
5. 输入输出操作
	- CPU 寄存器和 IO 端口之间的数据传送
