---
Aliases: 
Tags: Computer/Datastructure 
DateCreated: 2023-09-19T17:26
DateModified: 2023-09-19T18:24
---
# B 树的插入删除

Top :: [[Computer Datastructure]] - 第六章 - 查找 - 7.4.2

## B 树的插入
---
1. 定位
	- 利用前述的 B 树查找算法,
	- 找出插入该关键字的最低层中的某个非叶结点
		- (在 B 树中查找 key 时,会找到表示查找失败的叶结点,这样就确定了:
			- 最底层非叶结点的插入位置。
		- 注意: 插入位置一定是最低层中的某个非叶结点)。
2. 插入
	- 如插入后的关键字个数小于 m
		- 直接插入
	- 若溢出
		- 则对结点进行分裂
3. 分裂
	- 取一个新结点, 在插入 key 后的原结点, 从中间位置将其中的关键字分为两部分
		- 左部分包含的关键字放在原结点中
		- 右部分包含的关键字放到新结点中
		- 中间位置的结点插入原结点的父结点
	- 若插入父结点后, 导致父结点溢出
		- 则继续对父结点进行分裂操作
		- 分裂传递到根结点为止
			- 导致 B 树高度增 1

## B 树的删除
---
- 若被删除关键字在终端结点,
	- 若删除后节点数量大于下限
		- 则直接删除该关键字
	  - 若删除后结点数量小于下限
		  - 兄弟够借
			  - 从兄弟借一个来达到平衡
		  - 兄弟不够借
			  - 与兄弟结点和父结点合并
				  - 合并后导致父结点关键字数量 -1
					  - 可能需要继续合并
- 若被删除关键字在非终端结点, 则用直接前驱或直接后继来替代被删除的关键字
	- 直接前驱:
		- 当前关键字左侧指针所指子树中 " 最右下 " 的元素
	- 直接后继
		- 当前关键字右侧指针所指子树中 " 最左下 " 的元素
