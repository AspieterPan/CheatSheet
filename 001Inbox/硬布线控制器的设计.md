---
Aliases: 
Tags: Computer/Compose 
DateCreated: 2023-08-08T15:51
DateModified: 2023-08-08T19:05
---
# 硬布线控制器的设计

Top:: [[Computer Compose]] - 第五章 - 中央处理器 - 5.4.1

- 取指周期
	- FE=1
	- Fetch
- 间指周期
	- IND=1
	- Indirect
- 执行周期
	- EX=1
	- Execute
- 中断周期
	- INT=1
	- Interrupt

- 一个节拍内可以并行完成多个 " 相容的 " 微操作
- 同一个微操作可能在不同指令的不同阶段被使用
- 不同指令的执行周期所需节拍数各不相同。为了简化设计,选择**定长的机器周期**,以可能出现的最大节拍数为准 (通常以访存所需节拍数作为参考)
- 若实际所需节拍数较少, 可将微操作安排在机器周期末尾几个节拍上进行

## 硬布线控制器
---
- 根据==指令操作码==、==目前的机器周期==、==节拍信号==、==机器状态条件==，即可确定现在这个节拍下应该发出哪些 " 微命令 "

![[硬布线控制器的设计_1.png]]

## 硬布线控制器的设计
---
1. 分析每个阶段的微操作序列 (取值、间址、执行、中断四个阶段)
2. 选择 CPU 的控制方式
3. 安排微操作时序
4. 电路设计

### 分析每个阶段的微操作序列

1. 取指周期（所有指令都一样）
	1. PC -> MAR
	2. 1 -> R
	3. M(MAR) -> MDR
	4. MDR -> IR
	5. OP(IR) -> ID
	6. (PC) + 1 -> PC
2. 间址周期（所有指令都一样）
	1. Ad(IR) -> MAR
	2. 1 -> R
	3. M(MAR) -> MDR
	4. MDR -> Ad(IR)
3. 执行周期（各不相同）
	1. CLA
		- clear ACC 指令，ACC 清零
		1. 0 -> AC
	2. LDA X
		- 取数指令，把 X 所指内容取到 ACC
		1. Ad(IR) -> MAR
		2. 1 ->R
		3. M(MAR) ->MDR
		4. MDR -> AC
	3. JMP X
		- 无条件指令
		1. A 的（IR）->PC
	4. BAN X
		- Branch ACC negative
		- 条件转移，当 ACC 为负时转移
		1. $A_{0} \cdot Ad(IR) + \bar{A_{0}} \cdot (PC) \to PC$

### 安排微操作时序的原则

1. 原则一
	- 微操作先后顺序不得随意更改
2. 原则二
	- 被控对象不同的微操作
	- 尽量安排在 一个节拍 内完成
3. 原则三
	- 占用时间较短的微操作
	- 尽量安排在一个节拍内完成
	- 并允许有先后顺序

### 组合逻辑设计

- 设计步骤
	1. 列出操作时间表
	2. 写出微操作命令的最简表达式
	3. 画出逻辑图
 
## 硬布线控制器的特点
---
- 指令越多,设计和实现就越复杂,因此一般用于 RISC(精简指令集系统）
- 如果扩充一条新的指令,则控制器的设计就需要大改,因因此扩充指令较困难。
- 由于使用纯硬件实现控制,因此执行速度很快。微操作控制信号由组合逻辑电路即时产生。
