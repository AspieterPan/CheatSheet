---
Aliases: 
tags: Computer/Compose 
DateCreated: 2023-08-08T19:08
DateModified: 2023-08-08T20:44
---
# 微程序控制器的基本原理

Top:: [[Computer Compose]] - 第五章 - 中央处理器 - 5.4.2

## 概念对比
---
- 程序:
	- 由指令序列组成
- 微程序:
	- 由微指令序列组成,每一种指令对应一个微程序
- 指令
	- 是对程序执行步骤的描述
- 微指令
	- 是对指令执行步骤的描述
- 微命令与微操作一一对应
- 微指令中可能包含多个微命令
- 指令是对程序执行步骤的描述
- 微指令是对指令执行步骤的描述
- 指令是对微指令功能的 " 封装 "

## 微程序控制器的基本结构
---
- 控制存储器 CM
	- 用于存放各指令对应的微程序,控制存储器可用只读存储器 ROM 构成。
- CMAR
	- 别名:uPC,微地址寄存器,接收微地址形成部件送来的微地址,为在 CM 中读取微指令作准备。
- 地址译码器
	- 将地址码转化为存储单元控制信号。
- CMDR
	- 别名:μIR,用于存放从 CM 中取出的微指令,它的位数同微指令字长相等。
	- 分为 操作码 部分和 下地址 部分
		- 下地址，即下一条微指令的地址
- 微地址形成部件
	- 产生初始微地址和后继微地址,以保证微指令的连续执行。
- 顺序逻辑
	- 标志
		- 根据指令地址码的寻址特征位判断是否要跳过间址周期
	- CLK
		- 根据中断信号判断是否进入中断周期

## 微程序控制器的工作原理
---
- 指令周期 = 取指周期 -> 间址周期 -> 执行周期 -> 中断周期
	- 其中 间址、中断周期可有可无
- 处理取指周期、间址周期、中断周期的微指令序列通常是公用的。执行周期的微指令序列各不相同
- 取指周期的微指令序列固定从#0 开始存放。执行周期的微指令序列的存放根据指令操作码确定

> [!tip]
> 物理上,取指周期、执行周期看起来像是两个微程序,但逻辑上应该把它们看作一个整体。因此 " 一条指令对应一个微程序 " 的说法是正确的
