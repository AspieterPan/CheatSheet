---
Aliases: 
Tags: Computer/Compose 
DateCreated: 2023-08-05T17:22
DateModified: 2023-08-05T19:33
---
# 指令周期的数据流

Top:: [[Computer Compose]] - 第五章 - 中央处理器 - 5.2

## 指令周期
---
- CPU 从主存中每取出并执行一条指令所需的全部时间。
- 指令周期常常用若干**机器周期**来表示,机器周期又叫 **CPU 周期**。
- 一个**机器周期**又包含若干**时钟周期**
	- (也称为节拍、T 周期或 CPU 时钟周期,
	- 它是 CPU 操作的 **最基本单位**)
- 每个指令周期内机器周期数可以不等，每个机器周期内的节拍数也可以不等
	- 空指令 NOP
		- 取指周期
	- 加法指令 ADD
		- 取指周期
		- 执行周期
	- 乘法指令 MUL
		- 取指周期
		- 执行周期（包含的时钟周期比 ADD 多）
	- 具有间接寻址的指令
		- 取指周期
		- 间址周期
		- 执行周期
	- 具有中断的指令
		- 取指周期
		- 间址周期
		- 执行周期
		- 中断周期
1. 取指周期
	1. 取指令
	2. 对指令译码（很快）
2. 执行周期

## 指令周期流程
---

 ```mermaid
flowchart TD
A1[取指周期] --> P1{"有间址吗"}
P1 --是-->A2[间址周期]
A2 --> A3[执行周期]
P1 --否-->A3
A3 --> P2{有中断吗}
P2 --是--> A4[中断周期]
P2 --否--> A1
A4 --> A1
```

## 指令周期的数据流
---
### 取指周期

1. 当前指令地址送至存储器地址寄存器,
	- 记做:(PC) -> MAR
2. CU 发出控制信号,经控制总线传到主存,这里是读信号,
	- 记做: 1 -> R
3. 将 MAR 所指主存中的内容经数据总线 送入 MDR,
	- 记做: M(MAR) -> MDR
4. 4.将 MDR 中的内容 (此时是指令) 送入 IR,
	- 记做: (MDR) -> IR
5. CU 发出控制信号,形成下一条指令地址,
	- 记做:(PC)+1 -> PC
### 间址周期

1. 将指令的地址码送入 MAR,
	- 记做 Ad(IR) -> MAR
		- 或 Ad(MDR) -> MAR
2. CU 发出控制信号,启动主存做读操作
	- 记做:1→R
3. 将 MAR 所指主存中的内容经数据总线 送入 MDR,
	- 记做: M(MAR) -> MDR  
